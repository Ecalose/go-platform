在后端开发中，api接口设计肯定是必不可少的，在很多的项目中，api的设计没有统一的规范和约束，随着时间的推移，接口和方法越来越多，最终结果可能是形成一个庞大而混乱的api接口，无论是对内还是对外协作，都是非常痛苦的，而且我们在设计的过程中已经改考虑到系统的迭代和升级场景。因为开发者必须单独学习接口设计的方法以及技巧，以便于更好的管理api接口。

## 设计流程
在设计api接口时，建议按照一下步骤，进行分析设计。 在后续的过程中我们会以用户管理为例，进行api接口的设计。

- 确定api所属服务。
- 确定api操作的对象。
- 确定对象的命名方案。
- 确定api操作的版本
- 确定api操作的对象的方法。

### 什么是所属服务
所属服务也就是这个api接口是归属到哪个服务的，假设用户管理是归属用户中心的，用户中心这个服务名称为ums。那么我们可以称作api的归属服务为ums。

### 什么是对象
面向对象相比对于开发者来说，不是一个陌生的词汇了，我们在开发过程中经常倡导面向对象开发，在接口设计上，面向对象的设计也是非常具有价值的。比如我现在具有一个用户对象，我需要实现对用户对象的管理，那么这个用户我就可以抽象成为一个对象，比如在这里，我把它叫做user

### 什么是命名方案
命名方式实际就是我们在操作具体的对象时，或者对象的具体的某一个属性是，采取怎样的命名方式。

比如我有一个接口需要修改用户名称，我们操作的对象是用户的姓名，那么我们可以采用user_name的方式进行命名，当然也可以采用user-name的方式进行命名，也可以采用userName的方式进行命名。在这里我不推荐你具体的一种命名方案，哪种都是可以的，但是建议大家在开发过程中，尽量采用统一的一种命名方式。

### 什么是版本
版本就是指api接口的版本，比如现在用户管理功能需要升级迭代，那么我们可以采用v2的方式进行命名。

### 什么是方法
方法就是指对对象的具体操作，比如用户管理功能中，我需要对用户进行查询、新增、修改、删除等操作。 在我们开发过程中，常见的方法用List、Get、Create、Update 和 Delete。


## 请求方法
在http请求中，我们常见的请求方法有GET、POST、PUT和DELETE，其中GET是获取数据，POST是新增数据，PUT是修改数据，DELETE是删除数据。我们在设计接口的过程中，应该利用好这些请求方法，设计更加通用的接口。

有些的接口设计会把具体的方法直接在api中进行体现，比如/api/v1/add_user，其中user是对象，add是方法。我个人是非常不建议使用这样的接口命名方式的，因为这样的接口设计非常不规范，而且不利于后期的维护和迭代。


## 接口示例
#### 接口模板
/服务名/版本/对象

其实这个服务名是非常具有争议的，为什么需要在接口中体现服务名，其实这个服务名并不是必须的，在这里我添加上服务名主要是为了我们在分布式的情况下，为了方便网关来给具体的请求url来做定向路由，那么在这种情况下，我们需要有标识来确定当前的url具体请求到哪一个服务上，所以才需要添加具体的服务名，当然如果你只有单体，或者你使用k8s的微服务架构，实际服务名是可以忽略的。

#### 接口示例
我这里添加/api是为了区分提供给C端用还是B端用，方便给具体的端做鉴权策略。在实际过程中，应该根据具体的业务场景，是否考虑是否添加一些标识性前缀。。

##### 查询单行数据
请求方法：GET
请求接口：/ums/api/v1/user

##### 查询列表数据
请求方法：GET
请求接口：/ums/api/v1/users

##### 新增数据
请求方法：POST
请求接口：/ums/api/v1/user

##### 更新数据
请求方法：PUT
请求接口：/ums/api/v1/user

##### 删除数据
请求方法：DELETE
请求接口：/ums/api/v1/user

##### 导入数据
请求方法：POST
请求接口：/ums/api/v1/user/import

##### 导出数据
请求方法：POST
请求接口：/ums/api/v1/user/export

##### 查询指定回收站数据
请求方法：GET
请求接口：/ums/api/v1/user/trash

##### 查询列表回收站数据
请求方法：GET
请求接口：/ums/api/v1/user/trashes

##### 彻底删除指定回收站数据
请求方法：GET
请求接口：/ums/api/v1/user/trash

##### 彻底删除指定回收站数据
请求方法：DELETE
请求接口：/ums/api/v1/user/trash

##### 还原指定回收站数据
请求方法：PUT
请求接口：/ums/api/v1/user/trash

